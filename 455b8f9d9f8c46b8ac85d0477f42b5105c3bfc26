{
  "comments": [
    {
      "key": {
        "uuid": "479dfb6e_68303572",
        "filename": "org.eclipse.egit.core/src/org/eclipse/egit/core/synchronize/GitSyncInfo.java",
        "patchSetId": 5
      },
      "lineNbr": 98,
      "author": {
        "id": 4
      },
      "writtenOn": "2017-05-13T17:58:25Z",
      "side": 1,
      "message": "can\u0027t we do the recursion in the first loop without a second pass ?",
      "revId": "455b8f9d9f8c46b8ac85d0477f42b5105c3bfc26",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "479dfb6e_283e2d42",
        "filename": "org.eclipse.egit.core/src/org/eclipse/egit/core/synchronize/GitSyncInfo.java",
        "patchSetId": 5
      },
      "lineNbr": 98,
      "author": {
        "id": 44628
      },
      "writtenOn": "2017-05-13T18:41:18Z",
      "side": 1,
      "message": "We can. I don\u0027t think it matters much, but somehow I had the feeling that doing it this way would traverse a less deep hierarchy than a pure depth-first search and thus be faster in cases where there are non-IN_SYNC files.\n\nEven better would be of course to either not have such folders in this GitSyncObjectTree, or have them have a ThreeWayDiffEntry that is already marked as IN_SYNC. But that would, as I mentioned in the commit comment, be a more adventurous undertaking. It\u0027s also one of those cases I mentioned in the comment in bugzilla: I haven\u0027t figured out yet why we have nodes/diffs for such trees at all. I see where they\u0027re coming from, but I don\u0027t know if that\u0027s intended or whether they do have some purpose somehow or could be safely eliminated.",
      "parentUuid": "479dfb6e_68303572",
      "revId": "455b8f9d9f8c46b8ac85d0477f42b5105c3bfc26",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "479dfb6e_937e6e5c",
        "filename": "org.eclipse.egit.core/src/org/eclipse/egit/core/synchronize/GitSyncInfo.java",
        "patchSetId": 5
      },
      "lineNbr": 98,
      "author": {
        "id": 4
      },
      "writtenOn": "2017-05-14T14:58:15Z",
      "side": 1,
      "message": "ok, I did some experiments and you are right it doesn\u0027t really matter.\nThe method consumes only a small fraction of the overall runtime of the comparison.\n\nThis method could be also implemented using streams :\n\n private boolean hasNonSyncFile(GitSyncObjectCache obj) {\n    Optional\u003cGitSyncObjectCache\u003e found \u003d obj.members().stream().filter(\n       child -\u003e (!child.getDiffEntry().isTree() \u0026\u0026 child.getDiffEntry()\n          .getChangeType() !\u003d ThreeWayDiffEntry.ChangeType.IN_SYNC)\n          || (child.getDiffEntry().isTree() \u0026\u0026 hasNonSyncFile(child)))\n       .findFirst();\n    return found.isPresent();\n }",
      "parentUuid": "479dfb6e_283e2d42",
      "revId": "455b8f9d9f8c46b8ac85d0477f42b5105c3bfc26",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}